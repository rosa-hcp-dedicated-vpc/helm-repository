# NVIDIA GPU Operator Configuration
appTeam: nvidia-gpu-operator

# Sync wave for ArgoCD deployment
syncwave: 0

# Operator configuration
operatorName: gpu-operator-certified
operatorNamespace: nvidia-gpu-operator
operatorChannel: stable
operatorSource: certified-operators
operatorSourceNamespace: openshift-marketplace
operatorInstallPlanApproval: Manual

# ClusterPolicy configuration
clusterPolicy:
  enabled: true
  name: gpu-cluster-policy
  # Enable Node Feature Discovery (NFD) - required for GPU detection
  nfd:
    enabled: true
  # Operator configuration
  operator:
    defaultRuntime: crio
  # Enable GPU device plugin
  devicePlugin:
    enabled: true
  # Enable GPU feature discovery
  gfd:
    enabled: true
  # Enable DCGM exporter for monitoring
  dcgmExporter:
    enabled: true
  # Disable optional components
  migManager:
    enabled: false
  nodeStatusExporter:
    enabled: false
  gds:
    enabled: false
  cdi:
    enabled: false
  vgpuManager:
    enabled: false
  vgpuDeviceManager:
    enabled: false
  sandboxWorkloads:
    enabled: false
  vfioManager:
    enabled: false

# Helper status checker dependency
helper-status-checker:
  enabled: true
  approver: true
  checks:
    - operatorName: gpu-operator-certified
      subscriptionName: gpu-operator-certified
      namespace:
        name: nvidia-gpu-operator
      syncwave: 2
      serviceAccount:
        name: "gpu-install-check"

